Version 4
SHEET 1 972 680
WIRE 240 32 112 32
WIRE 448 32 240 32
WIRE 112 64 112 32
WIRE 240 96 240 32
WIRE 448 144 448 32
WIRE -32 192 -48 192
WIRE 112 192 112 144
WIRE 112 192 48 192
WIRE 240 192 240 160
WIRE 240 192 112 192
WIRE 320 192 320 160
WIRE 320 192 240 192
WIRE 240 208 240 192
WIRE 320 208 320 192
WIRE 112 240 112 192
WIRE 112 336 112 304
WIRE 240 336 240 272
WIRE 240 336 112 336
WIRE 320 336 320 288
WIRE 320 336 240 336
WIRE 448 336 448 224
WIRE 448 336 320 336
WIRE -96 352 -192 352
WIRE 448 368 448 336
WIRE -192 400 -192 352
WIRE -48 400 -48 192
WIRE -96 416 -96 352
WIRE 448 448 448 432
WIRE -192 528 -192 480
WIRE -96 528 -96 464
WIRE -96 528 -192 528
WIRE -48 528 -48 480
WIRE -48 528 -96 528
WIRE -192 576 -192 528
WIRE 448 576 448 528
FLAG -192 576 0
FLAG 448 576 0
FLAG 320 160 Reset
SYMBOL diode 256 160 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode 256 272 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL Misc\\battery 448 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL res 96 48 R0
SYMATTR InstName R1
SYMATTR Value 10K
SYMBOL res 304 192 R0
SYMATTR InstName R2
SYMATTR Value 10Meg
SYMBOL sw -48 496 M180
SYMATTR InstName S1
SYMATTR Value SW1
SYMBOL voltage -192 384 R0
WINDOW 3 -516 -13 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 3.3 250ms 1ns 1ns 10ms 19ms 100)
SYMATTR InstName V2
SYMBOL cap 96 240 R0
SYMATTR InstName C1
SYMATTR Value .5µ
SYMBOL res 64 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10K
SYMBOL bv 448 432 R0
SYMATTR InstName B1
SYMATTR Value V=sqrt(2)*4*max(0,sin(2*pi*50*time))
SYMBOL cap 432 368 R0
SYMATTR InstName C2
SYMATTR Value 1n
TEXT 8 608 Left 2 !.tran 1
TEXT -448 -16 Left 2 !.model SW1 SW(Ron=1 Roff=100Meg Vt=.3 Vh=-.4)
